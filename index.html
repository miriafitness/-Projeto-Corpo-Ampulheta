<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Projeto Ampulheta - Miri√£</title>

<style>
body{
margin:0;
font-family:Arial;
background:#fff0f6;
}

header{
background:#ff2d83;
color:white;
padding:15px;
text-align:center;
font-weight:bold;
}

.section{
display:none;
padding:20px;
}

.section.active{
display:block;
}

.card{
background:white;
padding:15px;
border-radius:12px;
margin-bottom:15px;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

button{
background:#ff2d83;
color:white;
border:none;
padding:8px 12px;
border-radius:8px;
margin-top:5px;
cursor:pointer;
}

input,select{
width:100%;
padding:6px;
margin:5px 0;
}

.nav{
position:fixed;
bottom:0;
left:0;
right:0;
background:white;
display:flex;
justify-content:space-around;
padding:10px 0;
box-shadow:0 -2px 10px rgba(0,0,0,0.1);
}

.nav button{
background:none;
color:#ff2d83;
font-weight:bold;
}

.progress{
background:#ffd1e6;
height:10px;
border-radius:10px;
overflow:hidden;
margin-top:8px;
}

.bar{
background:#ff2d83;
height:100%;
width:0%;
}
.small{font-size:12px;color:#666;}
</style>
</head>

<body>

<header>üçë Projeto Corpo Ampulheta</header>

<div id="treino" class="section active">
<div class="card">
<h3>üèãÔ∏è Treino Segunda a Sexta</h3>
<div id="listaTreino"></div>
</div>
</div>

<div id="agua" class="section">
<div class="card">
<h3>üíß √Ågua</h3>
<input type="number" id="meta" value="2500" placeholder="Meta di√°ria ml">
<input type="number" id="manual" placeholder="Adicionar ml">
<button onclick="addManual()">Somar</button>
<button onclick="addAgua(470)">+470</button>
<button onclick="addAgua(250)">+250</button>
<div class="progress"><div class="bar" id="bar"></div></div>
<div id="statusAgua"></div>
<div id="media7" class="small"></div>
</div>
</div>

<div id="intestino" class="section">
<div class="card">
<h3>üöΩ Intestino</h3>
<select id="intStatus">
<option value="N√£o fui">N√£o fui</option>
<option value="Fui">Fui</option>
<option value="Pouco">Pouco</option>
</select>
<label><input type="checkbox" id="chia"> Tomei √°gua morna + chia</label>
<button onclick="salvarIntestino()">Salvar</button>
<div id="histIntestino" class="small"></div>
</div>
</div>

<div id="medidas" class="section">
<div class="card">
<h3>üìè Medidas</h3>
<input type="number" id="peso" placeholder="Peso">
<input type="number" id="cintura" placeholder="Cintura">
<input type="number" id="abdomen" placeholder="Abd√¥men">
<input type="number" id="gluteo" placeholder="Gl√∫teo">
<button onclick="salvarMedidas()">Salvar</button>
<div id="ultimaMedida" class="small"></div>
</div>
</div>

<div id="fotos" class="section">
<div class="card">
<h3>üì∏ Antes e Depois</h3>
<input type="text" id="linkFoto" placeholder="Cole link da foto">
<button onclick="salvarFoto()">Salvar</button>
<div id="listaFotos" class="small"></div>
</div>
</div>

<div class="nav">
<button onclick="show('treino')">Treino</button>
<button onclick="show('agua')">√Ågua</button>
<button onclick="show('intestino')">Intestino</button>
<button onclick="show('medidas')">Medidas</button>
<button onclick="show('fotos')">Fotos</button>
</div>

<script>

function show(sec){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
document.getElementById(sec).classList.add('active');
}

const treinos={
"SEG":[ "Flexora 3x12","Stiff 3x12","Hip Thrust 4x10","Abdutora 3x15"],
"TER":[ "Supino 3x12","Crucifixo 3x12","Eleva√ß√£o lateral 3x12","Desenvolvimento 3x10","V√°cuo 3x20s"],
"QUA":[ "Leg Press 4x12","Smith 3x10","Extensora 3x12","Abdutora 3x15"],
"QUI":[ "Puxada 3x12","Remada 3x12","Face Pull 3x15","Prancha 3x40s"],
"SEX":[ "Hip Thrust pesado 4x8","Stiff 3x12","Afundo 3x10","Abdutora 4x15","V√°cuo 3x20s"]
};

function renderTreino(){
let html="";
for(let d in treinos){
html+="<b>"+d+"</b><br>";
treinos[d].forEach(e=>html+="‚Ä¢ "+e+"<br>");
html+="<br>";
}
document.getElementById("listaTreino").innerHTML=html;
}

let dados=JSON.parse(localStorage.getItem("ampulheta_app"))||{agua:{},intestino:{},medidas:[],fotos:[]};

function hoje(){return new Date().toISOString().split("T")[0];}

if(!dados.agua[hoje()]) dados.agua[hoje()]={total:0,pilha:[]};

function salvar(){localStorage.setItem("ampulheta_app",JSON.stringify(dados));}

function atualizarAgua(){
let meta=Number(document.getElementById("meta").value);
let total=dados.agua[hoje()].total;
let pct=(total/meta)*100;
if(pct>100)pct=100;
document.getElementById("bar").style.width=pct+"%";
document.getElementById("statusAgua").innerHTML="Hoje: "+total+" ml";

let soma=0;let dias=0;
for(let i=0;i<7;i++){
let d=new Date();d.setDate(d.getDate()-i);
let k=d.toISOString().split("T")[0];
if(dados.agua[k]){soma+=dados.agua[k].total;dias++;}
}
let media=dias?Math.round(soma/dias):0;
document.getElementById("media7").innerHTML="M√©dia 7 dias: "+media+" ml";
}

function addAgua(v){
dados.agua[hoje()].total+=v;
dados.agua[hoje()].pilha.push(v);
salvar();
atualizarAgua();
}

function addManual(){
let v=Number(document.getElementById("manual").value);
if(v>0){addAgua(v);document.getElementById("manual").value="";}
}

function salvarIntestino(){
dados.intestino[hoje()]={status:document.getElementById("intStatus").value,chia:document.getElementById("chia").checked};
salvar();
renderIntestino();
}

function renderIntestino(){
let ult=Object.entries(dados.intestino).slice(-5).map(([d,v])=>d+" - "+v.status+(v.chia?" + chia":"")).join("<br>");
document.getElementById("histIntestino").innerHTML=ult;
}

function salvarMedidas(){
dados.medidas.push({data:hoje(),peso:peso.value,cintura:cintura.value,abdomen:abdomen.value,gluteo:gluteo.value});
salvar();
renderMedidas();
}

function renderMedidas(){
if(dados.medidas.length){
let u=dados.medidas[dados.medidas.length-1];
ultimaMedida.innerHTML=u.data+" | "+u.peso+"kg | Cint "+u.cintura+" | Abd "+u.abdomen+" | Gl√∫teo "+u.gluteo;
}
}

function salvarFoto(){
let link=linkFoto.value;
if(link){
dados.fotos.push({data:hoje(),link});
salvar();
renderFotos();
linkFoto.value="";
}
}

function renderFotos(){
listaFotos.innerHTML=dados.fotos.map(f=>f.data+" - <a href='"+f.link+"' target='_blank'>Ver</a>").join("<br>");
}

renderTreino();
atualizarAgua();
renderIntestino();
renderMedidas();
renderFotos();

</script>

</body>
</html>
