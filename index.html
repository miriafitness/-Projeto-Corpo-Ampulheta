<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Projeto Ampulheta - Miri√£</title>

<style>
body{
font-family:Arial;
background:#ffe6f2;
margin:0;
padding:20px;
}

h1{
text-align:center;
color:#d6006e;
}

.card{
background:white;
padding:15px;
margin:15px auto;
max-width:750px;
border-radius:12px;
box-shadow:0 4px 12px rgba(0,0,0,0.1);
}

button{
background:#ff4da6;
color:white;
border:none;
padding:8px 12px;
border-radius:8px;
margin:4px;
cursor:pointer;
}

button:hover{
background:#e60073;
}

input,select{
width:100%;
padding:6px;
margin:4px 0;
}

.progress{
background:#ffd6eb;
height:15px;
border-radius:20px;
overflow:hidden;
margin-top:10px;
}

.bar{
background:#ff1493;
height:100%;
width:0%;
transition:0.3s;
}

.small{
font-size:12px;
color:#555;
}

a{
font-size:12px;
color:#ff1493;
}
</style>
</head>

<body>

<h1>üçë Projeto Corpo Ampulheta</h1>

<div class="card">
<h2>üèãÔ∏è Treino Segunda a Sexta</h2>
<div id="treino"></div>
</div>

<div class="card">
<h2>üíß √Ågua</h2>
<label>Meta di√°ria (ml)</label>
<input type="number" id="meta" value="2500">

<label>Adicionar manual (ml)</label>
<input type="number" id="manual">

<button onclick="addManual()">Somar</button>
<button onclick="addAgua(470)">+470</button>
<button onclick="addAgua(250)">+250</button>
<button onclick="desfazer()">Desfazer</button>

<div class="progress">
<div class="bar" id="bar"></div>
</div>

<div id="statusAgua"></div>
<div id="media7" class="small"></div>
</div>

<div class="card">
<h2>üöΩ Intestino</h2>

<select id="intestino">
<option value="N√£o fui">N√£o fui</option>
<option value="Fui">Fui</option>
<option value="Pouco">Pouco</option>
</select>

<label>
<input type="checkbox" id="chia"> Tomei √°gua morna + chia
</label>

<button onclick="salvarIntestino()">Salvar</button>

<div id="histIntestino" class="small"></div>
</div>

<div class="card">
<h2>üìè Medidas</h2>

<input type="number" id="peso" placeholder="Peso">
<input type="number" id="cintura" placeholder="Cintura">
<input type="number" id="abdomen" placeholder="Abd√¥men">
<input type="number" id="gluteo" placeholder="Gl√∫teo">

<button onclick="salvarMedidas()">Salvar</button>

<div id="ultimaMedida" class="small"></div>
</div>

<script>

const treinos = {
"SEGUNDA":[
"Cadeira Flexora 3x12",
"Stiff 3x12",
"Hip Thrust 4x10",
"Abdutora 3x15"
],
"TER√áA":[
"Supino inclinado 3x12",
"Crucifixo 3x12",
"Eleva√ß√£o lateral 3x12",
"Desenvolvimento ombro 3x10",
"V√°cuo abdominal 3x20s"
],
"QUARTA":[
"Leg Press 4x12",
"Agachamento Smith 3x10",
"Extensora 3x12",
"Abdutora 3x15"
],
"QUINTA":[
"Puxada frente 3x12",
"Remada baixa 3x12",
"Face Pull 3x15",
"Prancha 3x40s"
],
"SEXTA":[
"Hip Thrust pesado 4x8",
"Stiff 3x12",
"Afundo 3x10",
"Abdutora 4x15",
"V√°cuo 3x20s"
]
};

let dados = JSON.parse(localStorage.getItem("app_ampulheta")) || {
agua:{},
intestino:{},
medidas:[]
};

function hoje(){
return new Date().toISOString().split("T")[0];
}

if(!dados.agua[hoje()]){
dados.agua[hoje()]={total:0,pilha:[]};
}

function salvar(){
localStorage.setItem("app_ampulheta",JSON.stringify(dados));
}

function renderTreino(){
let html="";
for(let dia in treinos){
html+="<b>"+dia+"</b><br>";
treinos[dia].forEach(e=> html+="‚Ä¢ "+e+"<br>");
html+="<br>";
}
document.getElementById("treino").innerHTML=html;
}

function atualizarAgua(){
let meta=Number(document.getElementById("meta").value);
let total=dados.agua[hoje()].total;
document.getElementById("statusAgua").innerHTML="Hoje: "+total+" ml";
let pct=(total/meta)*100;
if(pct>100)pct=100;
document.getElementById("bar").style.width=pct+"%";

let soma=0;
let dias=0;
for(let i=0;i<7;i++){
let d=new Date();
d.setDate(d.getDate()-i);
let key=d.toISOString().split("T")[0];
if(dados.agua[key]){
soma+=dados.agua[key].total;
dias++;
}
}
let media=dias?Math.round(soma/dias):0;
document.getElementById("media7").innerHTML="M√©dia √∫ltimos 7 dias: "+media+" ml";
}

function addAgua(v){
dados.agua[hoje()].total+=v;
dados.agua[hoje()].pilha.push(v);
salvar();
atualizarAgua();
}

function addManual(){
let v=Number(document.getElementById("manual").value);
if(v>0){
addAgua(v);
document.getElementById("manual").value="";
}
}

function desfazer(){
let ult=dados.agua[hoje()].pilha.pop();
if(ult){
dados.agua[hoje()].total-=ult;
}
salvar();
atualizarAgua();
}

function salvarIntestino(){
dados.intestino[hoje()]={
status:document.getElementById("intestino").value,
chia:document.getElementById("chia").checked
};
salvar();
renderIntestino();
}

function renderIntestino(){
let ultimos=Object.entries(dados.intestino)
.slice(-5)
.map(([d,v])=>d+" - "+v.status+(v.chia?" + chia":""))
.join("<br>");
document.getElementById("histIntestino").innerHTML=ultimos;
}

function salvarMedidas(){
dados.medidas.push({
data:hoje(),
peso:document.getElementById("peso").value,
cintura:document.getElementById("cintura").value,
abdomen:document.getElementById("abdomen").value,
gluteo:document.getElementById("gluteo").value
});
salvar();
renderMedidas();
}

function renderMedidas(){
if(dados.medidas.length){
let u=dados.medidas[dados.medidas.length-1];
document.getElementById("ultimaMedida").innerHTML=
u.data+" | Peso: "+u.peso+" | Cintura: "+u.cintura+" | Abd√¥men: "+u.abdomen+" | Gl√∫teo: "+u.gluteo;
}
}

renderTreino();
atualizarAgua();
renderIntestino();
renderMedidas();

</script>

</body>
</html>
